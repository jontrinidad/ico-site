<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport"/>
  <link rel="stylesheet" href="css/style.css">
  <title></title>
</head>
<body>
<div class="page">
    <!--顶部固定-->
    <div class="fix-top">
       <a href="#">menu 1</a>
       <a href="#">menu 1</a>
       <a href="#">menu 1</a>
    </div>

    <!--海洋之光动效-->
    <div class="sea-box">
      <img src="img/Icons/BannerBG01.png" alt="">
      <div class="sea-main"></div>
    </div>

    <br><br>

    <!--3D动效-->
    <div class="poster-main">
      <div class="poster-btn poster-prev-btn"><img src="img/left.png"></div>
      <ul class="poster-list">
        <li class="poster-item"><a href="javascript:;"><img src="img/01_Login.jpg" width="100%" ></a></li>
        <li class="poster-item"><a href="javascript:;"><img src="img/02_Landing.jpg" width="100%" ></a></li>
        <li class="poster-item"><a href="javascript:;"><img src="img/03_Membership.jpg" width="100%" ></a></li>
        <li class="poster-item"><a href="javascript:;"><img src="img/04_Team.jpg" width="100%" ></a></li>
        <li class="poster-item"><a href="javascript:;"><img src="img/05_Application Library.jpg" width="100%" ></a></li>
      </ul>
      <div class="poster-btn poster-next-btn"><img src="img/right.png"></div>
    </div>

    <!--图表动效-->
    <div class="statistics">
      <h2 class="statistics-h2">Token Teimline</h2>
      <div class="statistics-subtit">EARLY BIRD PREMIUM BONUS</div>
      <div class="statistics-time">22 January 09:00:00 - 4 Feb 2018</div>
      <div class="statistics-main">
        <ul>
          <li class="statistics-col-2">
            <div class="statistics-li-main">
              <h5>Early bird Premium Bonus</h5>
              <div class="statistics-item statistics-left-col " >
                <div class="statistics-col-bg" ></div>
                <div class="statistics-text">Bonus 60%</div>
                <div class="statistics-date"> 22 JAN - 4 FEB</div>
                <div class="statistics-btn">Buy Token</div>
              </div>
              <div class="statistics-item statistics-right-col">
                <div class="statistics-col-bg statistics-item-linght"></div>
                <div class="statistics-text">Bonus 50%</div>
                <div class="statistics-date"> 5 FEB - 18 FEB</div>
                <div class="statistics-btn">Buy Token</div>
              </div>
            </div>
          </li>
          <li class="statistics-col-2">
            <div class="statistics-li-main">
              <h5>Pre sales Additional Bonus</h5>
              <div class="statistics-item statistics-left-col">
                <div class="statistics-col-bg statistics-item-linght"></div>
                <div class="statistics-text">Bonus 45%</div>
                 <div class="statistics-date"> 19 FEB - 4 MAR</div>
                 <div class="statistics-btn">Buy Token</div>
              </div>
              <div class="statistics-item statistics-right-col">
                <div class="statistics-col-bg statistics-item-linght"></div>
                <div class="statistics-text">Bonus 40%</div>
                <div class="statistics-date"> 5 MAR - 18 MAR</div>
                <div class="statistics-btn">Buy Token</div>
              </div>
            </div>
          </li>
          <li class="statistics-col-1">
            <div class="statistics-li-main">
              <h5>official Sales</h5>
              <div class="statistics-item">
                <div class="statistics-col-bg"></div>
                <div class="statistics-text">Bonus 20%</div>
                 <div class="statistics-date"> 19 MAR - 15 APR</div>
                 <div class="statistics-btn">Buy Token</div>
              </div>
            </div>
          </li>
          <li class="statistics-col-1">
            <div class="statistics-li-main">
             <h5>Unsold Tokens Release</h5>
              <div class="statistics-item statistics-not-data" >
                <div class="statistics-col-bg"></div>
                <div class="statistics-text"></div>
                 <div class="statistics-date"> 15 APR ONWARD</div>
                 <div class="statistics-btn">Buy Token</div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!--大圆圈-->
    <div class="circle">
      <div class="circle-main">
        <div class="circle-item">
          <div class="circle-icon"><img src="img/Icons/Competitive01.png" alt=""></div>
          <dl>
            <dt>Roubst Scalable</dt>
            <dd>Roubst ScalableRoubst ScalableRoubst ScalableRoubst Scalable</dd>
          </dl>
        </div>
        <div class="circle-item">
          <div class="circle-icon"><img src="img/Icons/Competitive02.png" alt=""></div>
          <dl>
            <dt>Accessible</dt>
            <dd>Accessibl eAccessible Accessibl eAccessibleA ccessible</dd>
          </dl>
        </div>
        <div class="circle-item">
          <div class="circle-icon"><img src="img/Icons/Competitive05.png" alt=""></div>
          <dl>
            <dt>Turn-Key Solution</dt>
            <dd>Turn-Key Solution Turn-Key Solution Turn-Key Solution </dd>
          </dl>
        </div>
        <div class="circle-item">
          <div class="circle-icon"><img src="img/Icons/Competitive03.png" alt=""></div>
          <dl>
            <dt>Trusted</dt>
            <dd>trusted trusted </dd>
          </dl>
        </div>
        <div class="circle-item">
          <div class="circle-icon"><img src="img/Icons/Competitive04.png" alt=""></div>
          <dl>
            <dt>Cost Efficient</dt>
            <dd>Cost Efficient Cost Efficient</dd>
          </dl>
        </div>
      </div>
      <div class="circle-origin">
        <div class="circle-txt">Our competitive advantages</div>
      </div>
      <div class="circle-light"></div>
    </div>


  <!--底部固定-->
  <div class="footer-bar">
     fix bot
  </div>
  <div class="footer">
    footer
  </div>
  </div>

 
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/PicCarousel.js"></script>  
  <script type="text/javascript">
    /************
      rotate3D : 3D旋转动画效果，需加载PicCarousel.js,调用PicCarousel实例
      circle : 大圆圈ICON位置定位　
      scrollFn ：滚动事件触发
      init : 初始化
    *************/
    var _G = (function(){
      var parentW = $('.page').width() || $(window).width();
      var $fixbot = $('.footer-bar');
      var fixbotTop = $fixbot.offset().top; 
      var $statisticsMain = $('.statistics-main');
      var statisticsMainTop = $statisticsMain.offset().top;
      return {
        rotate3D : function(){          
          var img = new Image();
          img.src = $('.poster-list').find('li').eq(0).find('img').attr('src') || '';
          img.onload = function(){
            var ratio = $('.page').width() / img.width;
            var num = ($(window).width() - (parentW * 0.9))/2 ;
            var imgHeight = Math.floor(img.height * ratio / 1.8);
            $('.poster-next-btn').css('right','-' + num + 'px');
            $('.poster-prev-btn').css('left','-' + num + 'px');
            $(".poster-main").PicCarousel({
              "width":(parentW * 0.9)  - 20,   //幻灯片的宽度
              "height":imgHeight * 0.9,   //幻灯片的高度
              "posterWidth":(parentW * 0.9) / 2,  //幻灯片第一帧的宽度
              "posterHeight":imgHeight * 0.9, //幻灯片第一张的高度
              "scale":0.9,    //记录显示比例关系
              "speed":1500,   //记录幻灯片滚动速度
              "autoPlay":/Mobile/.test(navigator.userAgent) ?  false : true,  //是否开启自动播放
              "delay":1000,   //自动播放间隔
              "verticalAlign":"top" //图片对齐位置
            });
          }
        },
        circle : function(){
          var $circle = $('.circle-main');
          var cricleHeight = $circle.width();
          $circle.css('height',cricleHeight + 'px');
          $('.circle-origin,.circle-light').css({'height':cricleHeight *0.4 + 'px','width':cricleHeight *0.4 + 'px'});

          $circle.find('.circle-item').each(function(i){
            var num = i + 1;
            var circleW = Math.ceil($circle.width() / 3)
            var circleH = Math.ceil($circle.height() / 3)
            var itemW = $(this).width();
            var itemH = $(this).height();
            if (i === 0) {
              $(this).css({
                left: '50%',
                top : '-' + (itemH/4) + 'px',
                'margin-left' : '-' + (itemW/2) + 'px',
              });
              $('.circle-dot-0').css({
                left: '50%',
                bottom : ($circle.height() ) / ($(window).width() > 340 ? 7.5 : 8) + 'px',
                'margin-left' : '-' + 8 + 'px',
              })
            } else {
              var w = i > 2  ?  (itemW/4) : '-' + (itemW/4) 
              var h = i > 2 ? circleH * 2.2 : circleH - (itemW/2) 

              var style = {
                top:h + 'px'
              }
              var circleStyle = {}
              if (i%2) {
                style.left = w + 'px'
              } else {
                style.right = w + 'px'
              }
              $(this).css(style)

              if (i > 2) {
                h =  $circle.width() / 16;
              };
              if (i%2) {
                circleStyle.left =  h - ($circle.height() / ($(window).width() > 340 ? 8.3 : 7) / 2)  + 'px'
              } else {
                circleStyle.right = h - ($circle.height() / ($(window).width() > 340 ? 8.3 : 7) / 2)+ 'px'
              }

              if (i > 2) {
                circleStyle.bottom = ($circle.height() ) /3  +  'px'
              } else {
                circleStyle.top = ($circle.height() / 6) / 2  +  'px' 
              }
              
              $('.circle-dot-'+i).css(circleStyle)
            }
          }); 
        },
        scrollFn : function(){
          var self = this;
          var _h = $(window).height();
          var circleTop = $('.circle').offset().top;
          var isPlay = false;
          var circleNum = 1;
          var self = this;
          $(window).scroll(function(){
            var top = $(this).scrollTop();
            var scrollLen = $('body').height() - $(window).height();
            var isStatistics = _h > statisticsMainTop ? true : (top + _h > statisticsMainTop ? true : false);

            //触发底部固定
            if (top > 0 && top < scrollLen - $('.footer').height() - $fixbot.height()) {
              $fixbot.addClass("fix-bot");
            } else {
              $fixbot.removeClass("fix-bot");
            }

            //触发图表
            if (isStatistics) {
              self.statistics()
            };

            //触发大圆圈
            if (top + _h > circleTop && !$('.circle').hasClass("circle-show")){
              $('.circle').addClass("circle-show")
            }
          })
        },
        statistics : function(){
          var data =[
            {
              probability:60, //百分比
              timeline:'22 JAN - 4 FEB', //时间段
              isSale:true,//是否显示sale标签
              active:true //是否显示激活状态
            },
            {
              probability:35, //百分比
              timeline:'5 FEB - 18 FEB', //时间段
              isSale:false,//是否显示sale标签
              active:true //是否显示激活状态
            },
            {
              probability:20, //百分比
              timeline:'19 FEB - 4 MAR', //时间段
              isSale:false,//是否显示sale标签
              active:true //是否显示激活状态
            },
            {
              probability:15, //百分比
              timeline:'5 MAR - 18 MAR', //时间段
              isSale:false,//是否显示sale标签
              active:true //是否显示激活状态
            },
            {
              probability:0, //百分比
              timeline:'19 MAR - 15 APR', //时间段
              isSale:false,//是否显示sale标签
              active:true //是否显示激活状态
            },
            {
              probability:'', //百分比
              timeline:'15 APR ONWARD', //时间段
              isSale:false,//是否显示sale标签
              active:true //是否显示激活状态
            }]
          var $item = $('.statistics-item');
          $item.each(function(i){
            $item.eq(i).find('.statistics-col-bg').addClass('opacity-' + i).css('height',data[i].probability + '%');
            if (!!data[i].active) $item.eq(i).find('.statistics-col-bg').addClass("statistics-item-linght");
            if (!!data[i].isSale) {
              $item.eq(i).addClass("statistics-sale");
              setTimeout(function(){
                $item.eq(i).addClass("statistics-sale-show");
              },1000)
            }
            if (!data[i].probability) {
              if (data[i].probability === 0) $item.eq(i).find('.statistics-text').text('Bonus' + data[i].probability + '%');
              $item.eq(i).addClass("statistics-not-data");
            } else {
              $item.eq(i).find('.statistics-text').text('Bonus' + data[i].probability + '%');
            }
          });
        },
        init :function(){
          this.rotate3D();
          this.circle();
          this.scrollFn();
        }
      }
    })();

    _G.init();

  </script>
  
</body>
</html>